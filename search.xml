<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>docker安装Oracle</title>
      <link href="/2019/12/12/docker%E5%AE%89%E8%A3%85Oracle/"/>
      <url>/2019/12/12/docker%E5%AE%89%E8%A3%85Oracle/</url>
      
        <content type="html"><![CDATA[<h4 id="docker安装Oracle"><a href="#docker安装Oracle" class="headerlink" title="docker安装Oracle"></a>docker安装Oracle</h4><h5 id="docker常用命令"><a href="#docker常用命令" class="headerlink" title="docker常用命令"></a>docker常用命令</h5><figure class="highlight tcl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">docker images  查看镜像文件</span><br><span class="line">docker ps  查看正在运行的容器</span><br><span class="line">docker ps –a  查看所有的容器</span><br><span class="line">docker container <span class="keyword">exec</span> -it f0b1c8ab3633 /bin/bash  进入到容器</span><br><span class="line"><span class="keyword">exit</span> 退出</span><br><span class="line">docker version  查看版本</span><br><span class="line">docker run -d -p <span class="number">81</span>:<span class="number">80</span> nginx 启动nginx容器</span><br><span class="line">docker rmi imgageid 删除镜像</span><br><span class="line">docker rm 容器id 删除容器</span><br></pre></td></tr></table></figure><h6 id="1-获取镜像"><a href="#1-获取镜像" class="headerlink" title="1.获取镜像"></a>1.获取镜像</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g</span><br></pre></td></tr></table></figure><p>查看镜像<img src="https://s2.ax1x.com/2019/12/12/Qyvd5F.png" alt="2019-12-12_14-36-14"></p><p>​    </p><h6 id="2-创建容器"><a href="#2-创建容器" class="headerlink" title="2.创建容器"></a>2.创建容器</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker run -d -p 1521:1521 --name oracle registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g</span><br></pre></td></tr></table></figure><p>​    查看所有容器：docker ps -a</p><p>​    查看运行时的容器：docker ps </p><p><img src="https://s2.ax1x.com/2019/12/12/QyxVG4.png" alt="2019-12-12_14-41-37"></p><h6 id="3-运行容器"><a href="#3-运行容器" class="headerlink" title="3.运行容器"></a>3.运行容器</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker start oracle</span><br></pre></td></tr></table></figure><h6 id="4-进入容器"><a href="#4-进入容器" class="headerlink" title="4.进入容器"></a>4.进入容器</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ docker exec -it oracle bash</span><br></pre></td></tr></table></figure><h6 id="5-配置环境-防止-sqlplus-command-not-fund"><a href="#5-配置环境-防止-sqlplus-command-not-fund" class="headerlink" title="5.配置环境(防止 sqlplus: command not fund)"></a>5.配置环境(防止 sqlplus: command not fund)</h6><p>​    切换到root(密码:helowin)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su root</span><br></pre></td></tr></table></figure><h6 id="6-编辑文件"><a href="#6-编辑文件" class="headerlink" title="6.编辑文件"></a>6.编辑文件</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/profile</span><br></pre></td></tr></table></figure><h6 id="7-末尾添加"><a href="#7-末尾添加" class="headerlink" title="7.末尾添加"></a>7.末尾添加</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">export ORACLE_HOME=/home/oracle/app/oracle/product/11.2.0/dbhome_2</span><br><span class="line">export ORACLE_SID=helowin</span><br><span class="line">export PATH=$ORACLE_HOME/bin:$PATH</span><br></pre></td></tr></table></figure><h6 id="8-更新-etc-profile文件"><a href="#8-更新-etc-profile文件" class="headerlink" title="8.更新/etc/profile文件"></a>8.更新/etc/profile文件</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">source /etc/profile</span><br></pre></td></tr></table></figure><h6 id="9-创建软连接"><a href="#9-创建软连接" class="headerlink" title="9.创建软连接"></a>9.创建软连接</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ln -s $ORACLE_HOME/bin/sqlplus /usr/bin</span><br></pre></td></tr></table></figure><h6 id="10-切换到oracle-用户"><a href="#10-切换到oracle-用户" class="headerlink" title="10.切换到oracle 用户"></a>10.切换到oracle 用户</h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su oracle</span><br></pre></td></tr></table></figure><h6 id="11-登录sqlplus并修改sys、system用户密码"><a href="#11-登录sqlplus并修改sys、system用户密码" class="headerlink" title="11.登录sqlplus并修改sys、system用户密码"></a>11.登录sqlplus并修改sys、system用户密码</h6><pre><code>sqlplus /nolog</code></pre><p>​    conn /as sysdba</p><pre><code>接着执行下面命令    alter user system identified by system;    alter user sys identified by sys;    也可以创建用户  create user test identified by test;      并给用户赋予权限  grant connect,resource,dba to test;</code></pre><h6 id="12-exit-是退出sql-软连接"><a href="#12-exit-是退出sql-软连接" class="headerlink" title="12.exit  是退出sql 软连接"></a>12.exit  是退出sql 软连接</h6><h6 id="13-配置-tnsnames-ora"><a href="#13-配置-tnsnames-ora" class="headerlink" title="13.配置 tnsnames.ora"></a>13.配置 <strong>tnsnames.ora</strong></h6><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /home/oracle/app/oracle/product/11.2.0/dbhome_2/network/admin/tnsnames.ora</span><br></pre></td></tr></table></figure><p><img src="https://s2.ax1x.com/2019/12/12/Q68U6H.md.png" alt="2019-12-12_14-41-37"></p><p>宿主ip地址</p><h6 id="14-出现如下图片"><a href="#14-出现如下图片" class="headerlink" title="14.出现如下图片"></a>14.出现如下图片</h6><p><img src="https://s2.ax1x.com/2019/12/12/Q68c9S.png" alt="2019-12-12_16-17-14"></p><h6 id="15-这时我们需要去看一下oracle-的-lsnrctl-服务"><a href="#15-这时我们需要去看一下oracle-的-lsnrctl-服务" class="headerlink" title="15.这时我们需要去看一下oracle 的 lsnrctl 服务"></a>15.这时我们需要去看一下oracle 的 lsnrctl 服务</h6><p>​    查看状态：</p><p><img src="https://s2.ax1x.com/2019/12/12/Q6tQgO.png" alt="2019-12-12_16-39-33"></p><p>​    启动</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LSNRCTL&gt;start</span><br></pre></td></tr></table></figure><p>完成！！</p>]]></content>
      
      
      
    </entry>
    
    
    
    <entry>
      <title>mysql安装</title>
      <link href="/2019/12/08/mysql%E5%AE%89%E8%A3%85/"/>
      <url>/2019/12/08/mysql%E5%AE%89%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h5>centOS 7.3(64位)新服务器 安装MySQL5.7  --yum方式</h5><ol><li><p>rpm -qa|grep -i mysql</p></li><li><p>用命令 yum -y remove</p><p>​      yum -y remove mysql-community-client-5.6.38-2.el7.x86_64</p><p>​      卸载不掉的用 rpm -ev </p><p>​      依次卸载 直到没有</p></li><li><p>操作rpm文件</p><p>wget  <a href="http://repo.mysql.com/mysql57-community-release-el7-8.noarch.rpm" target="_blank" rel="noopener">http://repo.mysql.com/mysql57-community-release-el7-8.noarch.rpm</a></p><p>rpm -ivh mysql57-community-release-el7-8.noarch.rpm</p></li><li><p>安装MySQL服务</p><p>yum -y install mysql-server</p><p>yum –installroot=/usr/local/mysql–releasever=/ -y install mysql-server（安装到指定目录）</p></li><li><p>配置  my.cnf        vim /etc/my.cnf</p><p>[mysqld]</p><p>#</p><p># Remove leading # and set to the amount of RAM for the most important data</p><p># cache in MySQL. Start at 70% of total RAM for dedicated server, else 10%.</p><p># innodb_buffer_pool_size = 128M</p><p>#</p><p># Remove leading # to turn on a very important data integrity option: logging</p><p># changes to the binary log between backups.</p><p># log_bin</p><p>#</p><p># Remove leading # to set options mainly useful for reporting servers.</p><p># The server defaults are faster for transactions and fast SELECTs.</p><p># Adjust sizes as needed, experiment to find the optimal values.</p><p># join_buffer_size = 128M</p><p># sort_buffer_size = 2M</p><p># read_rnd_buffer_size = 2M</p><p>datadir=/var/lib/mysql</p><p>socket=/var/lib/mysql/mysql.sock</p><p>server_id = 1</p><p>expire_logs_days = 3</p></li></ol><p>   # Disabling symbolic-links is recommended to prevent assorted security risks</p><p>   symbolic-links=0</p><p>   log-error=/var/log/mysqld.log</p><p>   pid-file=/var/run/mysqld/mysqld.pid</p><ol start="6"><li><p>启动mysql服务</p><p>service mysqld start</p></li><li><p>重置密码</p><p>grep “password” /var/log/mysqld.log    查看临时密码</p><p>或者<br>grep ‘temporary password’ /var/log/mysqld.log</p></li></ol><p>   需要重置密码要不什么也不能操作</p><p>   alter user ‘root’@’localhost’ identified by ‘IPyun20190729!+@=#’;  </p><p>   第一个参数：IP地址</p><p>   第二个参数：密码</p><p>   grant all on <em>.</em> to ‘root’@’%’ identified by ‘IPyun20190729!+@=#’  with grant option;</p><p>   第一个参数：数据库用户名（比如：root）</p><p>   第二个参数：数据库密码</p><p>   2、开放3306端口号</p><p>   firewalld 防火墙（centos-7）运行命令,并重启：</p><p>   firewall-cmd –zone=public –add-port=3306/tcp –permanent </p><p>   firewall-cmd –reload</p>]]></content>
      
      
      
    </entry>
    
    
  
  
</search>
